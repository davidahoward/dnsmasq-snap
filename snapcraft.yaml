name: dnsmasq
version: 2.76-29-g7ac9ae1
summary: Network infrastructure swiss-army knife
description: |
  Dnsmasq provides network infrastructure for small networks: DNS, DHCP, router
  advertisement and network boot. It is designed to be lightweight and have a
  small footprint, suitable for resource constrained routers and firewalls. 
grade: devel
confinement: devmode

apps:
  dnsmasq:
    command: bin/dnsmasq
    plugs:
      - network
      - network-bind
  dnsmasqd:
    daemon: simple
    command: bin/wrapper
    plugs:
      - network
      - network-bind

parts:
  dnsmasq:
    plugin: make
    source: git://thekelleys.org.uk/dnsmasq.git
    organize:
      usr/local/sbin/dnsmasq: bin/dnsmasq
    snap:
      - bin/dnsmasq
  wrapper:
    plugin: dump
    source: .
    organize:
      wrapper: bin/wrapper
